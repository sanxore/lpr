library(ggplot2)
DF = read.csv('~/Desktop/OCP/BackUPS/Final_Database.csv')
DF.NC = DF[which(DF$Cumulated.Not.Cumulated == 'Not Cumulated'),]
summary(DF.NC$kT)
DF.NC.TR = DF.NC[which(DF.NC$kT > 0),]
DF.NC.TR = head(order(DF.NC.TR,kT),n=floor(0.8*length(DF.NC.TR$kT)))
DF.NC.TR$logkT = log(DF.NC.TR$kT)
boxplot(logkT ~ Product, data =DF.NC.TR, col = "blue")
qplot(logkT,data=DF.NC.TR,fill=Product)
qplot(logkT,data=DF.NC.TR,color=Product,geom="density")
with(DF.NC.TR,qplot(logkT,Region..OCP.,col=Product))
qplot(Region..OCP.,data=DF.NC.TR,fill=Product)
qplot(logkT,data=DF.NC.TR,facets = .~Product)
DF = read.csv('~/Desktop/OCP/BackUPS/Final_Database.csv')
library(ggplot2)
DF.NC = DF[which(DF$Cumulated.Not.Cumulated == 'Not Cumulated'),]
DF.NC = DF[which(DF$AGG.DET.ANN == 'DET'),]
DF.NC = DF[which(DF$P2O5.Product == 'P2O5'),]
summary(DF.NC$kT)
DF.NC.TR = DF.NC[which(DF.NC$kT > 0),]
attach(DF.NC.TR)
#DF.NC.TR = head(order(DF.NC.TR,kT),n=floor(0.8*length(DF.NC.TR$kT)))
DF.NC.TR$logkT = log(DF.NC.TR$kT)
Client_Index = which(DF.NC.TR$Exporting.countries=="Morocco")
DF.NC.TR$Client_OCP="non"
DF.NC.TR$Client_OCP[Client_Index]="oui"
attach(DF.NC.TR)
boxplot(logkT ~ Product, data =DF.NC.TR, col = "blue")
boxplot(logkT ~ Product, data =DF.NC.TR[Client_Index,], col = "blue")
qplot(logkT,data=DF.NC.TR,fill=Product)
qplot(logkT,data=DF.NC.TR,fill=Client_OCP)
levels(DF.NC.TR$Exporting.countries)
rm(list = ls())
gc()
DF = read.csv('~/Desktop/OCP/BackUPS/Final_Database.csv')
library(ggplot2)
DF.NC = DF[which(DF$Cumulated.Not.Cumulated == 'Not Cumulated'),]
DF.NC = DF[which(DF$AGG.DET.ANN == 'DET'),]
DF.NC = DF[which(DF$P2O5.Product == 'P2O5'),]
summary(DF.NC$kT)
DF.NC.TR = DF.NC[which(DF.NC$kT > 0),]
attach(DF.NC.TR)
#DF.NC.TR = head(order(DF.NC.TR,kT),n=floor(0.8*length(DF.NC.TR$kT)))
DF.NC.TR$logkT = log(DF.NC.TR$kT)
OCP_Index = which(DF.NC.TR$Exporting.countries=="Morocco")
USA_Index = which(DF.NC.TR$Exporting.countries=="USA")
China_Index = which(DF.NC.TR$Exporting.countries=="China")
Russia_Index = which(DF.NC.TR$Exporting.countries=="Russia")
DF.NC.TR$Big_Players="Non"
DF.NC.TR$Big_Players[USA_Index]="USA"
DF.NC.TR$Big_Players[China_Index]="China"
DF.NC.TR$Big_Players[OCP_Index]="Morocco"
DF.NC.TR$Big_Players[Russia_Index]="Russia"
attach(DF.NC.TR)
boxplot(logkT ~ Product, data =DF.NC.TR, col = "blue")
boxplot(logkT ~ Product, data =DF.NC.TR[Client_Index,], col = "blue")
rm(list = ls())
gc()
DF = read.csv('~/Desktop/OCP/BackUPS/Final_Database.csv')
library(ggplot2)
DF.NC = DF[which(DF$Cumulated.Not.Cumulated == 'Not Cumulated'),]
DF.NC = DF[which(DF$AGG.DET.ANN == 'DET'),]
DF.NC = DF[which(DF$P2O5.Product == 'P2O5'),]
summary(DF.NC$kT)
DF.NC.TR = DF.NC[which(DF.NC$kT > 0),]
attach(DF.NC.TR)
#DF.NC.TR = head(order(DF.NC.TR,kT),n=floor(0.8*length(DF.NC.TR$kT)))
DF.NC.TR$logkT = log(DF.NC.TR$kT)
OCP_Index = which(DF.NC.TR$Exporting.countries=="Morocco")
USA_Index = which(DF.NC.TR$Exporting.countries=="USA")
China_Index = which(DF.NC.TR$Exporting.countries=="China")
Russia_Index = which(DF.NC.TR$Exporting.countries=="Russia")
DF.NC.TR$Big_Players="Non"
DF.NC.TR$Big_Players[USA_Index]="USA"
DF.NC.TR$Big_Players[China_Index]="China"
DF.NC.TR$Big_Players[OCP_Index]="Morocco"
DF.NC.TR$Big_Players[Russia_Index]="Russia"
attach(DF.NC.TR)
boxplot(logkT ~ Product, data =DF.NC.TR, col = "blue")
boxplot(logkT ~ Product, data =DF.NC.TR, col = "blue")
boxplot(logkT ~ Product, data =DF.NC.TR[OCP_Index,], col = "blue")
boxplot(logkT ~ Product, data =DF.NC.TR, col = "blue")
boxplot(logkT ~ Product, data =DF.NC.TR[OCP_Index,], col = "blue")
qplot(logkT,data=DF.NC.TR,fill=Product)
qplot(logkT,data=DF.NC.TR,fill=Big_Players)
qplot(logkT,data=DF.NC.TR[OCP_Index,],fill=Product)
qplot(logkT,data=DF.NC.TR,fill=Big_Players,facets = .~Product)
qplot(logkT,data=DF.NC.TR,color=Product,geom="density")
qplot(logkT,data=DF.NC.TR[OCP_Index,],facets = .~Product,fill=Region..OCP.)
qplot(logkT,data=DF.NC.TR[OCP_Index,],color=Product,geom="density")
qplot(Quarter,logkT, data = DF.NC.TR, facets = Product~Region..OCP.)
qplot(Quarter,logkT, data = DF.NC.TR, facets = Product~Region..OCP.,col=Big_Players)
DF.NC.TR$Big_Players=NA
qplot(logkT,data=DF.NC.TR,fill=Big_Players)
"Non"
qplot(logkT,data=DF.NC.TR,fill=Big_Players)
DF.NC.TR$Big_Players="Non"
DF.NC.TR$Big_Players="Non"
DF.NC.TR$Big_Players[USA_Index]="USA"
DF.NC.TR$Big_Players[China_Index]="China"
DF.NC.TR$Big_Players[OCP_Index]="Morocco"
DF.NC.TR$Big_Players[Russia_Index]="Russia"
qplot(logkT,data=DF.NC.TR,fill=Product)
qplot(logkT,data=DF.NC.TR,fill=Big_Players)
qplot(logkT,data=DF.NC.TR,fill=Product)
qplot(logkT,data=DF.NC.TR,fill=Big_Players)
qplot(logkT,data=DF.NC.TR[OCP_Index,],fill=Product)
qplot(logkT,data=DF.NC.TR,fill=Big_Players,facets = .~Product)
qplot(logkT,data=DF.NC.TR,color=Product,geom="density")
qplot(logkT,data=DF.NC.TR[OCP_Index,],facets = .~Product,fill=Region..OCP.)
qplot(logkT,data=DF.NC.TR[OCP_Index,],color=Product,geom="density")
qplot(logkT,data=DF.NC.TR,fill=Product)
rm(list=ls())
DF = read.csv('~/Desktop/OCP/BackUPS/Final_Database.csv')
library(ggplot2)
DF.NC = DF[which(DF$Cumulated.Not.Cumulated == 'Not Cumulated'),]
DF.NC = DF[which(DF$AGG.DET.ANN == 'DET'),]
DF.NC = DF[which(DF$P2O5.Product == 'Product'),]
summary(DF.NC$kT)
DF.NC.TR = DF.NC[which(DF.NC$kT > 0),]
attach(DF.NC.TR)
#DF.NC.TR = head(order(DF.NC.TR,kT),n=floor(0.8*length(DF.NC.TR$kT)))
DF.NC.TR$logkT = log(DF.NC.TR$kT)
OCP_Index = which(DF.NC.TR$Exporting.countries=="Morocco")
USA_Index = which(DF.NC.TR$Exporting.countries=="USA")
China_Index = which(DF.NC.TR$Exporting.countries=="China")
Russia_Index = which(DF.NC.TR$Exporting.countries=="Russia")
DF.NC.TR$Big_Players="Non"
DF.NC.TR$Big_Players[USA_Index]="USA"
DF.NC.TR$Big_Players[China_Index]="China"
DF.NC.TR$Big_Players[OCP_Index]="Morocco"
DF.NC.TR$Big_Players[Russia_Index]="Russia"
attach(DF.NC.TR)
gc()
boxplot(logkT ~ Product, data =DF.NC.TR, col = "blue")
boxplot(logkT ~ Product, data =DF.NC.TR[OCP_Index,], col = "blue")
qplot(logkT,data=DF.NC.TR,fill=Product)
qplot(logkT,data=DF.NC.TR,fill=Big_Players)
qplot(logkT,data=DF.NC.TR[OCP_Index,],fill=Product)
qplot(logkT,data=DF.NC.TR,fill=Big_Players,facets = .~Product)
qplot(logkT,data=DF.NC.TR[OCP_Index,],facets = .~Product,fill=Region..OCP.)
qplot(logkT,data=DF.NC.TR,color=Product,geom="density")
qplot(logkT,data=DF.NC.TR[OCP_Index,],color=Product,geom="density")
qplot(Quarter,logkT, data = DF.NC.TR, facets = Product~Region..OCP.)
qplot(Quarter,logkT, data = DF.NC.TR, facets = Product~Region..OCP.,col=Big_Players)
with(DF.NC.TR,qplot(logkT,Region..OCP.,col=Product))
with(DF.NC.TR[OCP_Index,],qplot(logkT,Region..OCP.,col=Product))
qplot(Region..OCP.,data=DF.NC.TR,fill=Product)
qplot(Region..OCP.,data=DF.NC.TR,fill=Product)
qplot(Region..OCP.,data=DF.NC.TR[OCP_Index,],fill=logkT,color=Product)
qplot(Region..OCP.,data=DF.NC.TR[OCP_Index,],fill=Product)
qplot(Region..OCP.,data=DF.NC.TR,fill=logkT)
qplot(Region..OCP.,data=DF.NC.TR,fill=logkT)
qplot(Region..OCP.,data=DF.NC.TR,fill=Product)
qplot(logkT~Region..OCP.,data=DF.NC.TR,fill=Product)
qplot(logkT,Region..OCP.,data=DF.NC.TR,fill=Product)
qplot(Region..OCP.,data=DF.NC.TR,fill=Product)
qplot(Quarter,logkT, data = DF.NC.TR[OCP_Index,], facets = .~Product,col=Region..OCP.)
qplot(Quarter,logkT, data = DF.NC.TR, facets = .~Product,col=Region..OCP.)
qplot(Quarter,logkT, data = DF.NC.TR, facets = Product~Region..OCP.)
qplot(Quarter,logkT, data = DF.NC.TR, facets = Product~Region..OCP.,col=Big_Players)
qplot(Quarter,logkT, data = DF.NC.TR, facets = .~Product,col=Region..OCP.)
#qplot(Region..OCP.,data=DF.NC.TR,fill=Product)
qplot(Region..OCP.,data=DF.NC.TR,fill=Product)
DF = read.csv('~/Desktop/OCP/BackUPS/Final_Database.csv')
library(ggplot2)
DF.NC = DF[which(DF$Cumulated.Not.Cumulated == 'Not Cumulated'),]
DF.NC = DF[which(DF$AGG.DET.ANN == 'DET'),]
DF.NC = DF[which(DF$P2O5.Product == 'Product'),]
summary(DF.NC$kT)
DF.NC.TR = DF.NC[which(DF.NC$kT > 0),]
attach(DF.NC.TR)
#DF.NC.TR = head(order(DF.NC.TR,kT),n=floor(0.8*length(DF.NC.TR$kT)))
DF.NC.TR$logkT = log(DF.NC.TR$kT)
OCP_Index = which(DF.NC.TR$Exporting.countries=="Morocco")
USA_Index = which(DF.NC.TR$Exporting.countries=="USA")
China_Index = which(DF.NC.TR$Exporting.countries=="China")
Russia_Index = which(DF.NC.TR$Exporting.countries=="Russia")
DF.NC.TR$Big_Players="Non"
DF.NC.TR$Big_Players[USA_Index]="USA"
DF.NC.TR$Big_Players[China_Index]="China"
DF.NC.TR$Big_Players[OCP_Index]="Morocco"
DF.NC.TR$Big_Players[Russia_Index]="Russia"
attach(DF.NC.TR)
boxplot(logkT ~ Product, data =DF.NC.TR, col = "blue")
boxplot(logkT ~ Product, data =DF.NC.TR[OCP_Index,], col = "blue")
#--------------------------------------------
qplot(logkT,data=DF.NC.TR,fill=Product)
qplot(logkT,data=DF.NC.TR,fill=Big_Players)
qplot(logkT,data=DF.NC.TR[OCP_Index,],fill=Product)
qplot(logkT,data=DF.NC.TR,fill=Big_Players,facets = .~Product)
qplot(logkT,data=DF.NC.TR[OCP_Index,],facets = .~Product,fill=Region..OCP.)
qplot(logkT,data=DF.NC.TR,color=Product,geom="density")
qplot(logkT,data=DF.NC.TR[OCP_Index,],color=Product,geom="density")
#--------------------------------------------
qplot(Quarter,logkT, data = DF.NC.TR, facets = Product~Region..OCP.)
qplot(Quarter,logkT, data = DF.NC.TR, facets = Product~Region..OCP.,col=Big_Players)
#--------------------------------------------
with(DF.NC.TR,qplot(logkT,Region..OCP.,col=Product))
with(DF.NC.TR[OCP_Index,],qplot(logkT,Region..OCP.,col=Product))
#qplot(Region..OCP.,data=DF.NC.TR,fill=Product)
#qplot(Region..OCP.,data=DF.NC.TR[OCP_Index,],fill=Product)
qplot(Quarter,logkT, data = DF.NC.TR, facets = .~Product,col=Region..OCP.)
qplot(Quarter,logkT, data = DF.NC.TR[OCP_Index,], facets = .~Product,col=Region..OCP.)
boxplot(logkT ~ Product, data =DF.NC.TR, col = "blue") + scale_fill_brewer(palette="Dark2")
install.packages("RColorBrewer")
qplot(Region..OCP.,data=DF.NC.TR,fill=Product)
qplot(logkT,data=DF.NC.TR,fill=Product)
qplot(logkT,data=DF.NC.TR,fill=Big_Players)
qplot(logkT,data=DF.NC.TR[OCP_Index,],fill=Product)
qplot(logkT,data=DF.NC.TR,fill=Big_Players,facets = .~Product)
qplot(logkT,data=DF.NC.TR[OCP_Index,],facets = .~Product,fill=Region..OCP.)
qplot(Quarter,logkT, data = DF.NC.TR, facets = Product~Region..OCP.)
qplot(Quarter,logkT, data = DF.NC.TR, facets = Product~Region..OCP.,alpha = I(1/10))
qplot(Quarter,logkT, data = DF.NC.TR, facets = Product~Region..OCP.,col=Big_Players,alpha = I(1/10))
qplot(Quarter,logkT, data = DF.NC.TR, facets = Product~Region..OCP.,col=Big_Players,alpha = I(1/07))
qplot(Quarter,logkT, data = DF.NC.TR, facets = Product~Region..OCP.,col=Big_Players,alpha = I(1/4))
with(DF.NC.TR,qplot(logkT,Region..OCP.,col=Product))
with(DF.NC.TR,qplot(logkT,Region..OCP.,col=Product,alpha = I(1/4)))
with(DF.NC.TR,qplot(logkT,Region..OCP.,col=Product,alpha = I(1/7)))
with(DF.NC.TR[OCP_Index,],qplot(logkT,Region..OCP.,col=Product),alpha = I(1/4))
with(DF.NC.TR[OCP_Index,],qplot(logkT,Region..OCP.,col=Product),alpha = I(1/5))
with(DF.NC.TR[OCP_Index,],qplot(logkT,Region..OCP.,col=Product),alpha = I(1/6))
qplot(Quarter,logkT, data = DF.NC.TR, facets = Product~Region..OCP.,alpha = I(1/10))
qplot(Quarter,logkT, data = DF.NC.TR, facets = Product~Region..OCP.,col=Big_Players,alpha = I(1/4))
qplot(Quarter,logkT, data = DF.NC.TR, facets = Product~Region..OCP.,col=Big_Players,alpha = I(1/5))
qplot(Quarter,logkT, data = DF.NC.TR, facets = Product~Region..OCP.,col=Big_Players,alpha = I(1/2))
with(DF.NC.TR,qplot(logkT,Region..OCP.,col=Product,alpha = I(1/7)))
with(DF.NC.TR[OCP_Index,],qplot(logkT,Region..OCP.,col=Product),alpha = I(1/6))
with(DF.NC.TR,qplot(logkT,Region..OCP.,col=Product,alpha = I(1/7)))
qplot(logkT,Quarter,data=DF.NC.TR, geom = c("point", "smooth"))
qplot(Quarter,logkT,data=DF.NC.TR, geom = c("point", "smooth"))
qplot(Product,logkT, data =DF.NC.TR, fill = Product)
qplot(Product,logkT, data =DF.NC.TR, fill = Product,geom="violin")
qplot(Product,logkT, data =DF.NC.TR, fill = Product,geom="boxplot")
qplot(Product,logkT, data =DF.NC.TR[OCP_Index,], fill = Product,geom="boxplot")
qplot(Quarter,logkT, data = DF.NC.TR, facets = Product~Region..OCP.,col=Big_Players,alpha = 0.7)
qplot(Quarter,logkT, data = DF.NC.TR, facets = Product~Region..OCP.,alpha = 0.1)
qplot(Quarter,logkT, data = DF.NC.TR, facets = Product~Region..OCP.,alpha = I(0.1))
qplot(Quarter,logkT, data = DF.NC.TR, facets = Product~Region..OCP.,col=Big_Players,alpha = I(0.7))
with(DF.NC.TR,qplot(logkT,Region..OCP.,col=Product,alpha = I(1/7)))
with(DF.NC.TR,qplot(logkT,Region..OCP.,col=Product,alpha = I(0.7))
with(DF.NC.TR,qplot(logkT,Region..OCP.,col=Product,alpha = I(0.7))
with(DF.NC.TR,qplot(logkT,Region..OCP.,col=Product,alpha = I(0.7)))
with(DF.NC.TR[OCP_Index,],qplot(logkT,Region..OCP.,col=Product),alpha = I(1/6))
with(DF.NC.TR[OCP_Index,],qplot(logkT,Region..OCP.,col=Product),alpha = I(0.6))
qplot(logkT,data=DF.NC.TR,fill=Product)
qplot(logkT,data=DF.NC.TR,fill=Product) + scale_colour_brewer(palette = "Set1")
qplot(logkT,data=DF.NC.TR,fill=Product) + scale_colour_brewer(palette = "Set1")
qplot(logkT,data=DF.NC.TR,fill=Product,scale_colour_brewer(palette = "Set1")) + scale_colour_brewer(palette = "Set1")
ggplot(Product,logkT, data =DF.NC.TR, fill = Product,geom="boxplot")
qplot(Product,logkT, data =DF.NC.TR, fill = Product,geom="boxplot")
DF = read.csv('~/Desktop/OCP/BackUPS/Final_Database.csv')
library(ggplot2)
DF.NC = DF[which(DF$Cumulated.Not.Cumulated == 'Not Cumulated'),]
DF.NC = DF[which(DF$AGG.DET.ANN == 'DET'),]
DF.NC = DF[which(DF$P2O5.Product == 'Product'),]
summary(DF.NC$kT)
DF.NC.TR = DF.NC[which(DF.NC$kT > 0),]
attach(DF.NC.TR)
#DF.NC.TR = head(order(DF.NC.TR,kT),n=floor(0.8*length(DF.NC.TR$kT)))
DF.NC.TR$logkT = log(DF.NC.TR$kT)
OCP_Index = which(DF.NC.TR$Exporting.countries=="Morocco")
USA_Index = which(DF.NC.TR$Exporting.countries=="USA")
China_Index = which(DF.NC.TR$Exporting.countries=="China")
Russia_Index = which(DF.NC.TR$Exporting.countries=="Russia")
DF.NC.TR$Big_Players="Non"
DF.NC.TR$Big_Players[USA_Index]="USA"
DF.NC.TR$Big_Players[China_Index]="China"
DF.NC.TR$Big_Players[OCP_Index]="Morocco"
DF.NC.TR$Big_Players[Russia_Index]="Russia"
attach(DF.NC.TR)
ggplot(data=DF.NC.TR,aes(x=Product,y=logkT) + geom_boxplot() )
ggplot(data=DF.NC.TR,aes(x=Product,y=logkT) + geom_boxplot(aes(fill = Product)))
DF = read.csv('~/Desktop/OCP/BackUPS/Final_Database.csv')
library(ggplot2)
DF.NC = DF[which(DF$Cumulated.Not.Cumulated == 'Not Cumulated'),]
DF.NC = DF[which(DF$AGG.DET.ANN == 'DET'),]
DF.NC = DF[which(DF$P2O5.Product == 'Product'),]
summary(DF.NC$kT)
DF.NC.TR = DF.NC[which(DF.NC$kT > 0),]
attach(DF.NC.TR)
#DF.NC.TR = head(order(DF.NC.TR,kT),n=floor(0.8*length(DF.NC.TR$kT)))
DF.NC.TR$logkT = log(DF.NC.TR$kT)
OCP_Index = which(DF.NC.TR$Exporting.countries=="Morocco")
USA_Index = which(DF.NC.TR$Exporting.countries=="USA")
China_Index = which(DF.NC.TR$Exporting.countries=="China")
Russia_Index = which(DF.NC.TR$Exporting.countries=="Russia")
DF.NC.TR$Big_Players="Non"
DF.NC.TR$Big_Players[USA_Index]="USA"
DF.NC.TR$Big_Players[China_Index]="China"
DF.NC.TR$Big_Players[OCP_Index]="Morocco"
DF.NC.TR$Big_Players[Russia_Index]="Russia"
attach(DF.NC.TR)
qplot(Product,logkT, data =DF.NC.TR, fill = Product,geom="boxplot")
qplot(Product,logkT, data =DF.NC.TR[OCP_Index,], fill = Product,geom="boxplot")
#--------------------------------------------
qplot(logkT,data=DF.NC.TR,fill=Product)
qplot(logkT,data=DF.NC.TR,fill=Big_Players)
qplot(logkT,data=DF.NC.TR[OCP_Index,],fill=Product)
qplot(logkT,data=DF.NC.TR,fill=Big_Players,facets = .~Product)
qplot(logkT,data=DF.NC.TR[OCP_Index,],facets = .~Product,fill=Region..OCP.)
qplot(logkT,data=DF.NC.TR,color=Product,geom="density")
qplot(logkT,data=DF.NC.TR[OCP_Index,],color=Product,geom="density")
#--------------------------------------------
qplot(Quarter,logkT, data = DF.NC.TR, facets = Product~Region..OCP.,alpha = I(0.1))
qplot(Quarter,logkT, data = DF.NC.TR, facets = Product~Region..OCP.,col=Big_Players,alpha = I(0.7))
#--------------------------------------------
with(DF.NC.TR,qplot(logkT,Region..OCP.,col=Product,alpha = I(0.7)))
with(DF.NC.TR[OCP_Index,],qplot(logkT,Region..OCP.,col=Product),alpha = I(0.6))
#
#qplot(Region..OCP.,data=DF.NC.TR,fill=Product)
#qplot(Region..OCP.,data=DF.NC.TR[OCP_Index,],fill=Product)
qplot(Quarter,logkT, data = DF.NC.TR, facets = .~Product,col=Region..OCP.)
qplot(Quarter,logkT, data = DF.NC.TR[OCP_Index,], facets = .~Product,col=Region..OCP.)
#--------------------------------------------------
#--------------------------------------------------
